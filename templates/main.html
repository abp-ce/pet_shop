<!doctype html>
{% extends 'base.html' %}
{% block aside %}
    <template id='abp-tree'>
        <div>
            <ul>
                <abp-node :node="tree" :flag="flag" :sel_node="sel_node"></abp-node>
            </ul>
        </div>
    </template>
    <template id="abp-node">
        <li :class = "[isActive ? 'active-node' : 'non-active-node']" @click.stop="onClick();"><span>${ node.label }</span>
            <ul v-if="node.children && node.children.length">
                <abp-node :flag="flag" v-for="child in node.children" :key="child.id" :node="child" :sel_node="sel_node"></abp-node>
            </ul>
        </li>
    </template>
    <abp-tree id='tree' :tree='tree'></abp-tree>
{% endblock %}
{% block article %}
    <script>
        var tree = JSON.parse({{ tree | tojson }})
    </script>
    <template id='abp-slider'>
        <div style="position: relative; width: 80vh;">
            <transition-group name="fade" tag="div">
                <div v-for="i in [currentIndex]" :key="i">
                    <img :src="currentImg">
                </div>
            </transition-group>
            <a class="prev" @click="prev" href="#">&#10094; Previous</a>
            <a class="next" @click="next" href="#">&#10095; Next</a>
        </div>
    </template>
    <template id='abp-gallery'>
        <div class="gallery">
            <abp-item v-for="dt in data" :key="dt.label" :item="dt"></abp-item>
            <!--div><img src="static/photo.jpg"></div-->
        </div>
    </template>
    <template id="abp-card">
        <div class="card">
            <div>${ data[0].label }</div>
            <div>${ data[0].label }</div>
        </div>
    </template>
    <template id="abp-item">
        <div @click="onClick()">${item.label}</div>
    </template>

    <div id="switch" style="width: 100%; height: 100%;">
        <component :is="swtch" :data="data"></component>
    </div>
    <!--abp-slider id="vue" :photos='photos'></abp-slider-->
    
    <script src="{{ url_for('static', filename='app_vue.js') }}"></script>
{% endblock %}
